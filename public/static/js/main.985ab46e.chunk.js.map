{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","onCardDelete","onCardClick","link","name","onCardLike","parseInt","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","key","length","Footer","PopupWithForm","isOpen","type","title","onClose","onSubmit","noValidate","children","EditAvatarPopup","avatarRef","useRef","evt","preventDefault","onUpdateAvatar","current","value","id","ref","placeholder","required","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","target","minLength","maxLength","AddPlacePopup","location","setLocation","setLink","ImagePopup","api","url","token","this","_url","_token","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","isLicked","method","body","JSON","stringify","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","Provider","changeLikeCardStatus","newCards","updCard","deleteCard","filter","setAvatar","user","setUserInfo","data","createCard","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.985ab46e.chunk.js","sourcesContent":["import React from 'react'\nimport logoPath from '../images/logo.svg'\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logoPath} alt=\"Логотип\" />\n    </header>\n  )\n}\n\nexport default Header","import React from 'react'\n\nconst CurrentUserContext = React.createContext()\n\nexport default CurrentUserContext","import React from 'react'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext)\n  const isOwn = props.card.owner._id === currentUser._id\n  const isLiked = props.card.likes.some(item => item._id === currentUser._id)\n\n  const cardDeleteButtonClassName = \n    `${isOwn ? \n      'element__delete-button' : \n      'element__delete-button element__delete-button_hidden'\n    }`\n  const cardLikeButtonClassName = \n    `${isLiked ? \n      'element__like-button element__like-button_pressed' : \n      'element__like-button'\n    }`\n\n  function handleClick() {\n    props.onCardClick(props.card)\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card)\n  }\n\n  return (\n    <li className=\"element\">\n      <button onClick={handleDeleteClick} className={cardDeleteButtonClassName}></button>\n      <img onClick={handleClick} className=\"element__image\" src={props.link} alt={props.name} />\n      <div className=\"element__heading\">\n        <h2 className=\"element__title\">{props.name}</h2>\n        <div className=\"element__like-container\">\n          <button onClick={handleLikeClick} className={cardLikeButtonClassName}></button>\n          <span className=\"element__like-counter\">{parseInt(props.likes)}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card","import React from 'react'\nimport Card from '../components/Card'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\" \n          onClick={props.onEditAvatar}>\n          <img className=\"profile__img\" src={currentUser.avatar} alt=\"Аватар\" />\n        </div>\n        <div className=\"profile__user-info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__edit-button\"\n          onClick={props.onEditProfile}></button>\n        <div className=\"profile__container\">\n          <button className=\"profile__add-button\" \n            onClick={props.onAddPlace}></button>\n        </div>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {\n            props.cards.map((card) => (\n              <Card \n                key={card._id}\n                link={card.link}\n                name={card.name}\n                likes={card.likes.length}\n                card={card}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n            ))\n          }\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main ","import React from 'react'\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer","import React from 'react'\n\nfunction PopupWithForm(props) {\n  return (\n    <section className={props.isOpen ? `popup popup_type_${props.name} popup_opened` : `popup popup_type_${props.name}`}>  \n      <div className={`popup__container popup__container_type_${props.type}`}>\n        <h2 className=\"popup__title\"> {props.title} </h2>\n        <div className=\"popup__close-btn\" onClick={props.onClose}></div>\n        <form onSubmit={props.onSubmit} name={`${props.name}`} className=\"popup__form\" noValidate>\n          {props.children}\n        </form>\n      </div>\n    </section>\n  )\n}\n\nexport default PopupWithForm","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef()\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name='avatar-upd'\n      title='Обновить аватар'\n      type='confirm'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n\n      <>\n        <label className=\"popup__label\">\n          <input \n            id=\"link-input-avatar\" \n            name=\"linkavatar\" \n            ref={avatarRef} \n            className=\"popup__input popup__input_text_link\" \n            type=\"url\"\n            placeholder=\"Ссылка на картинку\" \n            required />\n          <span id=\"link-input-avatar-error\" className=\"popup__error\"></span>\n        </label>\n        <button className=\"popup__btn\" type=\"submit\">Сохранить</button>\n      </>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n\n  const currentUser = React.useContext(CurrentUserContext)\n  \n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  function handleChangeName(evt) {\n    setName(evt.target.value)\n  }\n\n  function handleChangeDescription(evt) {\n    setDescription(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name='edit-profile'\n      title='Редактировать профиль'\n      type='form'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n\n      <>\n        <label className=\"popup__label\">\n          <input \n            id=\"name-input\" \n            value={name ? name : ''} \n            onChange={handleChangeName}\n            name=\"name\" \n            className=\"popup__input popup__input_text_name\"\n            type=\"text\"\n            placeholder=\"Имя\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\" />\n          <span id=\"name-input-error\" className=\"popup__error\"></span>\n        </label>\n        <label className=\"popup__label\">\n          <input \n            id=\"job-input\" \n            value={description ? description : ''}\n            onChange={handleChangeDescription}\n            name=\"job\" \n            className=\"popup__input popup__input_text_job\" type=\"text\"\n            placeholder=\"О себе\"\n            required\n            minLength=\"2\"\n            maxLength=\"200\" />\n          <span id=\"job-input-error\" className=\"popup__error\"></span>\n        </label>\n        <button className=\"popup__btn\" type=\"submit\">Сохранить</button>\n      </>\n\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n  const [location, setLocation] = React.useState('')\n  const [link, setLink] = React.useState('')\n  \n  function handleChangeLocation(evt) {\n    setLocation(evt.target.value)\n  }\n\n  function handleChangeLink(evt) {\n    setLink(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    props.onAddPlace({\n      location,\n      link,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name='add-card'\n      title='Новое место'\n      type='form'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <>\n        <label className=\"popup__label\">\n          <input \n            id=\"location-input\" \n            value={location ? location : ''}\n            onChange={handleChangeLocation}\n            name=\"location\" \n            className=\"popup__input popup__input_text_location\"\n            type=\"text\"\n            placeholder=\"Название\"\n            required\n            minLength=\"2\"\n            maxLength=\"30\" />\n          <span id=\"location-input-error\" className=\"popup__error\"></span>\n        </label>\n        <label className=\"popup__label\">\n          <input \n            id=\"link-input\" \n            value={link ? link : ''}\n            onChange={handleChangeLink}\n            name=\"link\" \n            className=\"popup__input popup__input_text_link\"\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            required />\n          <span id=\"link-input-error\" className=\"popup__error\"></span>\n        </label>\n        <button className=\"popup__btn\" type=\"submit\">Создать</button>\n      </>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup","import React from 'react'\n\nfunction ImagePopup(props) {\n  return (\n    <section className={props.card ? `popup popup_type_photo popup_opened` : `popup popup_type_photo`}>\n      <figure className=\"popup__container popup__container_type_photo\">\n        <div className=\"popup__close-btn\" onClick={props.onClose}></div>\n        <img className=\"popup__image\" src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : ''} />\n        <figcaption className=\"popup__description\">{props.card ? props.card.name : ''}</figcaption>\n      </figure>\n    </section>\n  )\n}\n\nexport default ImagePopup","// import React from 'react'\n\nexport class Api {\n  constructor({ url, token}) {\n    this._url = url\n    this._token = token\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}${'/cards'}`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  changeLikeCardStatus(id, isLicked) {\n    if (!isLicked) {\n      return fetch(`${this._url}${'/cards/likes'}/${id}`, {\n        method: 'PUT',\n        headers: {\n          authorization: this._token,\n          'Content-Type': 'application/json'\n        }\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    } else if (isLicked) {\n      return fetch(`${this._url}${'/cards/likes'}/${id}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this._token,\n          'Content-Type': 'application/json'\n        }\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    }\n  }\n  \n  getUserInfo() {\n    return fetch(`${this._url}${'/users/me'}`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  setUserInfo(name, about) {\n    return fetch(`${this._url}${'/users/me'}`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  setAvatar(avatar) {\n    return fetch(`${this._url}${'/users/me/avatar'}`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  createCard(name, link) {\n    return fetch(`${this._url}${'/cards'}`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })  \n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}${'/cards'}/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-14', \n  token: '3afbb2b4-9ecc-4aaa-9813-505ad2c004fc'\n})\n\nexport default api","import React from 'react'\nimport Header from '../components/Header'\nimport Main from '../components/Main'\nimport Footer from '../components/Footer'\nimport PopupWithForm from '../components/PopupWithForm'\nimport EditAvatarPopup from '../components/EditAvatarPopup'\nimport EditProfilePopup from '../components/EditProfilePopup'\nimport AddPlacePopup from '../components/AddPlacePopup'\nimport ImagePopup from '../components/ImagePopup'\nimport api from '../utils/Api'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState(null)\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [cards, setCards] = React.useState([])\n\n  React.useEffect(() => {\n    api.getUserInfo().then((res) => {\n      setCurrentUser(res)\n    }).catch((err) => {console.log(err)})\n  }, [])\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((res) => {\n      setCards(res)\n      }).catch((err) => {console.log(err)})\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(item => item._id === currentUser._id)\n\n    api.changeLikeCardStatus(card._id, isLiked).then((res) => {\n      const newCards = cards.map(\n        (updCard) => updCard._id === card._id ? res : updCard)\n\n      setCards(newCards)\n    }).catch((err) => {console.log(err)})\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter(item => item._id !== card._id)\n      setCards(newCards)\n      api.getInitialCards().then((res) => {\n        setCards(res)\n      }).catch((err) => {console.log(err)})\n    }).catch((err) => {console.log(err)})\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n\n  function handleUpdateUser(user) {\n    api.setUserInfo(user.name, user.about)\n      .then(() => {\n        api.getUserInfo().then((res) => {\n          setCurrentUser(res)\n          closeAllPopups()\n        }).catch((err) => {console.log(err)})\n      }).catch((err) => {console.log(err)})\n  }\n\n  function handleUpdateAvatar(url) {\n    api.setAvatar(url.avatar)\n      .then(() => {\n        api.getUserInfo()\n          .then((res) => {\n            setCurrentUser(res)\n            closeAllPopups()\n          }).catch((err) => {console.log(err)})\n      }).catch((err) => {console.log(err)})\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.createCard(data.location, data.link)\n      .then((res) => {\n        setCards([...cards, res])\n        api.getInitialCards().then((res) => {\n          setCards(res)\n        }).catch((err) => {console.log(err)})\n\n        closeAllPopups()\n      }).catch((err) => {console.log(err)})\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setEditProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setSelectedCard(null)\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main  \n          onEditAvatar={handleEditAvatarClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          cards={cards}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen} \n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen} \n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          />\n\n        <AddPlacePopup \n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <PopupWithForm\n          name='confirm'\n          title='Вы уверены?'\n          type='confirm'\n          onClose={closeAllPopups}\n        >\n          <>\n            <button className=\"popup__btn popup__btn_type_confirm\" type=\"submit\">Да</button>\n          </>\n        </PopupWithForm>\n\n        <ImagePopup \n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n      \n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";"],"sourceRoot":""}